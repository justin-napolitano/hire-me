---
import type { BookEntry } from '../config/profile';

type Props = {
	books?: BookEntry[];
	eyebrow?: string;
	title?: string;
	description?: string;
};

const {
	books = [],
	eyebrow = 'Nightstand lineup',
	title = 'Books I keep highlighted for real conversations',
	description = "Yes, I take notes in the margins and quote them at brunch. That's the point."
} = Astro.props as Props;
---
<section class="rounded-3xl border border-[var(--border-strong)] bg-[var(--surface-section)] p-8">
	<header class="mb-6 flex flex-col gap-2">
		{eyebrow && <p class="text-xs uppercase tracking-[0.18em] text-[var(--text-label)]">{eyebrow}</p>}
		{title && <h2 class="text-3xl font-semibold text-[var(--text-primary)]">{title}</h2>}
		{description && <p class="text-base text-[var(--text-secondary)]">{description}</p>}
	</header>
	{books.length ? (
		<div class="grid gap-4 md:grid-cols-2">
			{books.map((book) => (
				<article class="rounded-2xl border border-[var(--border-soft)] bg-[var(--surface-card)] p-5 shadow-inner">
					<div class="flex items-center justify-between text-xs uppercase tracking-[0.2em] text-[var(--text-label)]">
						<span>Annotated</span>
						{book.edition && <span class="text-right text-[0.65rem] text-[var(--text-soft)]">{book.edition}</span>}
					</div>
					<h3 class="mt-3 text-xl font-semibold text-[var(--text-primary)]">{book.title}</h3>
					<p class="text-sm text-[var(--text-muted)]">{book.author}</p>
					<p class="mt-3 text-sm text-[var(--text-secondary)]">{book.flex}</p>
					<p class="mt-2 text-sm text-[var(--text-secondary)]">{book.highlight}</p>
				</article>
			))}
		</div>
	) : (
		<p class="text-sm text-[var(--text-muted)]">Drop books into `books` to show this module.</p>
	)}
</section>
