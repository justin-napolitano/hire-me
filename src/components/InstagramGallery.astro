---
import type { GalleryImage } from '../config/profile';

type Props = {
	images?: GalleryImage[];
	instagramHandle?: string;
	eyebrow?: string;
	title?: string;
	description?: string;
};

const {
	images = [],
	instagramHandle = 'jay.b.napolitano',
	eyebrow = 'Visual evidence',
	title = 'Instagram proof I leave my apartment',
	description = 'Expect coffee cups, rooftops, dinner tables, and the people who keep me accountable.'
} = Astro.props as Props;
---
<section class="rounded-3xl border border-[var(--border-strong)] bg-[var(--surface-section)] p-6">
	<header class="mb-6 flex flex-col gap-2">
		{eyebrow && <p class="text-sm uppercase tracking-[0.3em] text-[var(--text-label)]">{eyebrow}</p>}
		{title && <h2 class="text-2xl font-semibold text-[var(--text-primary)]">{title}</h2>}
		{description && (
			<p class="text-base text-[var(--text-secondary)]">
				Fresh posts straight from @{instagramHandle}. {description}
			</p>
		)}
	</header>
	{images.length ? (
		<div class="grid gap-4 sm:grid-cols-2">
			{images.map((image) => (
			<a
				class="group relative overflow-hidden rounded-2xl border border-[var(--border-soft)]"
				href={image.href ?? `https://instagram.com/${instagramHandle}`}
				target="_blank"
				rel="noreferrer"
			>
				<img src={image.src} alt={image.alt} class="h-72 w-full object-cover transition duration-300 group-hover:scale-105" loading="lazy" />
				<div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"></div>
				<div class="absolute inset-x-0 bottom-0 flex items-center justify-between p-4 text-sm text-[var(--accent-contrast)]">
					<div>
						<p class="font-semibold">{image.caption}</p>
						{image.location && <p class="text-xs text-[var(--accent-contrast)] opacity-80">{image.location}</p>}
					</div>
					<span class="rounded-full border border-white/60 bg-white/20 px-3 py-1 text-xs uppercase tracking-wide text-[var(--accent-contrast)]">Open IG</span>
				</div>
			</a>
			))}
		</div>
	) : (
		<p class="text-sm text-[var(--text-muted)]">Add gallery images to showcase Instagram content.</p>
	)}
</section>
