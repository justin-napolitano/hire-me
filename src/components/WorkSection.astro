---
import type { WorkLink } from '../config/profile';

type Props = {
	links?: WorkLink[];
	eyebrow?: string;
	title?: string;
};

const {
	links = [],
	eyebrow = 'Work',
	title
} = Astro.props as Props;
---
<section class="rounded-3xl border border-[var(--border-strong)] bg-[var(--surface-section)] p-8">
	<header class="mb-4">
		{eyebrow && <p class="text-xs uppercase tracking-[0.18em] text-[var(--text-label)]">{eyebrow}</p>}
		{title && <h2 class="text-2xl font-semibold text-[var(--text-primary)]">{title}</h2>}
	</header>
	{links.length ? (
		<div class="grid gap-4 md:grid-cols-3">
			{links.map((link) => (
			<a
				class="group flex items-center gap-3 rounded-2xl border border-[var(--border-strong)] bg-[var(--surface-card-muted)] px-4 py-3 text-left transition hover:border-[var(--border-heavy)] hover:bg-[var(--surface-card)]"
				href={link.href}
				target={link.external ? '_blank' : undefined}
				rel={link.external ? 'noreferrer' : undefined}
			>
				<span class="flex size-11 items-center justify-center rounded-2xl border border-[var(--icon-chip-border)] bg-[var(--icon-chip-bg)]">
					<img src={link.icon} alt="" width="32" height="32" loading="lazy" class="h-8 w-8" />
				</span>
				<div class="flex flex-col">
					<span class="text-base font-semibold text-[var(--text-primary)]">{link.label}</span>
					{link.description && <span class="text-sm text-[var(--text-muted)]">{link.description}</span>}
				</div>
			</a>
			))}
		</div>
	) : (
		<p class="text-sm text-[var(--text-muted)]">Add work links to populate this section.</p>
	)}
</section>
